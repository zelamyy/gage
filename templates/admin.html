<!DOCTYPE html>
<html>
<head>
    <title>Admin Panel</title>
    <!-- Add this inside <head> of each HTML file -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <h2>Admin Dashboard</h2>

    <p><a href="/export-grades">📥 Download Grades as Excel</a></p>

    <h3>All Users</h3>
    <table border="1" cellpadding="8">
        <tr><th>ID</th><th>Name</th><th>Email</th><th>Role</th></tr>
        {% for u in users %}
        <tr>
            <td>{{ u.id }}</td>
            <td>{{ u.name }}</td>
            <td>{{ u.email }}</td>
            <td>{{ u.role }}</td>
        </tr>
        {% endfor %}
    </table>

    <h3>All Courses</h3>
    <table border="1" cellpadding="8">
        <tr><th>ID</th><th>Course Name</th><th>Teacher</th></tr>
        {% for c in courses %}
        <tr>
            <td>{{ c.id }}</td>
            <td>{{ c.course_name }}</td>
            <td>{{ c.teacher_name }}</td>
        </tr>
        {% endfor %}
    </table>

    <h3>All Grades</h3>
    <table border="1" cellpadding="8">
        <tr>
            <th>ID</th>
            <th>Student</th>
            <th>Course</th>
            <th>Grade</th>
            <th>Actions</th>
        </tr>
        {% for g in grades %}
        <tr>
            <td>{{ g.id }}</td>
            <td>{{ g.student_name }}</td>
            <td>{{ g.course_name }}</td>
            <td>{{ g.grade }}</td>
            <td>
                <a href="/edit-grade/{{ g.id }}">✏️ Edit</a> |
                <a href="/delete-grade/{{ g.id }}" onclick="return confirm('Delete this grade?')">🗑️ Delete</a>
            </td>
        </tr>
        {% endfor %}
    </table>

    <br><a href="/logout">🔓 Logout</a>
</body>
</html>
